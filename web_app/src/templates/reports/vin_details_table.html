{% load mathfilters %}
{% load custom_tags %}

<div id="vin_details_table_div">
    <div class="clearfix"></div>
      <!-- line graph -->
      <div class="col-md-13 col-sm-13 col-xs-13">
        <div class="x_panel">
                  <div class="x_title">
                    <h2>Vin:{{vin_number}}</h2>
                    <ul class="nav navbar-right panel_toolbox">
                      <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      </li>
                      <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                        <ul class="dropdown-menu" role="menu">
                          <li><a href="#">Settings 1</a>
                          </li>
                          <li><a href="#">Settings 2</a>
                          </li>
                        </ul>
                      </li>
                      <li><a class="close-link"><i class="fa fa-close"></i></a>
                      </li>
                    </ul>
                    <div class="clearfix"></div>
                  </div>
                  <div id="vin_details" >


    <table id="station_details_table_id" class="display" width="100%" cellspacing="1">
        <thead>
            <tr>
                <th>Station</th>
                <th align="center">Opened Defects</th>
                <th align="center">Closed Defects</th>
                <th align="center">Inspected Time</th>
                <th align="center">Inspector</th>
                <!-- <th align="center">TDEV</th> -->
            </tr>
        </thead>
        <tbody class="datatable">
            {% for data in datas %}
            <tr>
              <td>{{data.stations.description}}</td>
              <td align="center">{{data.defects_count}}</td>
              <td align="center">{{data.closure_count}}</td>
              <td>{{data.last_modified_date}}</td>
              <td>{{data.vin.users.name}}</td>
              <!-- {% if forloop.first %}
                <td>{{data.last_modified_date|sub:data.last_modified_date}}</td>
              {% else %}
                <td>{{data.before.last_modified_date}}</td>
              {% endif %} -->
            </tr>
            {% endfor %}
        </tbody>
    </table>
                
                </div>
                </div>
      </div>

{% block script %}
<script type="text/javascript">

  $(document).ready( function () {
    $('#station_details_table_id').DataTable({"scrollX": true});
  } );
</script>
{% endblock %}
{% block styles %}
<style type="text/css">
    .datatable td,th {
  overflow: hidden; /* this is what fixes the expansion */
  text-overflow: ellipsis; /* not supported in all browsers, but I accepted the tradeoff */
  white-space: nowrap;
}
</style>
{% endblock %}
